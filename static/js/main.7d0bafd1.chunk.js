(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{20:function(e,t,a){e.exports=a(32)},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=a(5),s=a(8),u=a.n(s),m=a(11),i=a(7),f=a(2),p=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,n=a.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t,a,n=e.person,c=e.index,o=e.active,s=e.sex,u=e.findParent;return r.a.createElement("tr",{key:n.name,className:"".concat(o," ").concat(s)},r.a.createElement("th",{scope:"row"},c+1),r.a.createElement("td",null,r.a.createElement(l.b,{to:"".concat(n.slug)},n.name)),r.a.createElement("td",null,n.sex),r.a.createElement("td",null,n.born),r.a.createElement("td",null,n.died),r.a.createElement("td",null,u(n.motherName)?r.a.createElement(l.b,{className:"bold",to:"".concat(null===(t=u(n.motherName))||void 0===t?void 0:t.slug)},n.motherName):r.a.createElement(r.a.Fragment,null,n.motherName)),r.a.createElement("td",null,u(n.fatherName)?r.a.createElement(l.b,{className:"bold",to:"".concat(null===(a=u(n.fatherName))||void 0===a?void 0:a.slug)},n.fatherName):r.a.createElement(r.a.Fragment,null,n.fatherName)))},d=function(e){var t=e.setParams;return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col",onClick:function(){return t("name")}},"name"),r.a.createElement("th",{scope:"col",onClick:function(){return t("sex")}},"sex"),r.a.createElement("th",{scope:"col",onClick:function(){return t("born")}},"born"),r.a.createElement("th",{scope:"col",onClick:function(){return t("died")}},"died"),r.a.createElement("th",{scope:"col",onClick:function(){return t("motherName")}},"mother"),r.a.createElement("th",{scope:"col",onClick:function(){return t("fatherName")}},"father")))},b=function(e){var t=e.setFiltered,a=e.value,c=Object(n.useState)("".concat(a)),o=Object(i.a)(c,2),l=o[0],s=o[1];return r.a.createElement("input",{value:l,type:"text",placeholder:"press name to find",onChange:function(e){return function(e){var a=e.currentTarget.value;s(a),t(a)}(e)}})},E=function(e){var t=e.list,a=e.id,c=Object(f.g)(),o=Object(f.h)(),l=new URLSearchParams(o.search),s=l.get("query")||"",u=Object(n.useState)(t),m=Object(i.a)(u,2),p=m[0],E=m[1],v=l.get("sortBy")||"",g=l.get("sortOrder")||"";Object(n.useMemo)((function(){E(t)}),[t]),Object(n.useMemo)((function(){var e;if(console.log(s,g),"forward"===g)switch(v){case"born":case"died":e=p.sort((function(e,t){return e[v]-t[v]})),E(e);break;case"name":case"sex":e=p.sort((function(e,t){return e[v].localeCompare(t[v])})),E(e)}else switch(v){case"born":case"died":e=p.sort((function(e,t){return t[v]-e[v]})),E(e);break;case"name":case"sex":e=p.sort((function(e,t){return t[v].localeCompare(e[v])})),E(e)}}),[v,g,p]);var N=function(e){return p.find((function(t){return t.name===e}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{setFiltered:function(e){l.set("query","".concat(e)),c.push({search:l.toString()})},value:s}),r.a.createElement("table",{className:"table table-sm"},r.a.createElement(d,{setParams:function(e){var t="forward"===g?"reverse":"forward";l.set("sortBy","".concat(e)),l.set("sortOrder","".concat(t)),c.push({search:l.toString()})}}),r.a.createElement("tbody",null,p.map((function(e,t){var n=e.slug===a?"active-person":"non-active",c="f"===e.sex?"woman":"man";return r.a.createElement(h,{key:e.slug,person:e,index:t,findParent:N,active:n,sex:c})})))))},v=function(){return r.a.createElement("h1",null,"Home")},g=function(){return r.a.createElement("h1",null,"not page")},N=(a(31),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("https://mate-academy.github.io/react_people-table/api/people.json");case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"People table"),r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("form",{className:"form-inline"},r.a.createElement(l.b,{className:"btn btn-outline-success",to:"/",exact:!0},"Home"),r.a.createElement(l.b,{className:"btn btn-outline-success",to:"/users/"},"People"))),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:v}),r.a.createElement(f.b,{path:"/home"},r.a.createElement(f.a,{to:"/"})),r.a.createElement(f.b,{path:"/users/:id?",render:function(e){var t=e.match;return r.a.createElement(E,{list:a,id:t.params.id})}}),r.a.createElement(f.b,{component:g})))});o.a.render(r.a.createElement(l.a,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.7d0bafd1.chunk.js.map