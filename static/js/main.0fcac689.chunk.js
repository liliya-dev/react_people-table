(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=a(5),u=a(9),s=a.n(u),m=a(13),i=a(6),f=a(2),b=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,n=a.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t,a,n=e.person,c=e.index,o=e.active,u=e.sex,s=e.findParent;return r.a.createElement("tr",{key:n.name,className:"".concat(o," ").concat(u)},r.a.createElement("th",{scope:"row"},c+1),r.a.createElement("td",null,r.a.createElement(l.b,{to:"".concat(n.slug)},n.name)),r.a.createElement("td",null,n.sex),r.a.createElement("td",null,n.born),r.a.createElement("td",null,n.died),r.a.createElement("td",null,s(n.motherName)?r.a.createElement(l.b,{className:"bold",to:"".concat(null===(t=s(n.motherName))||void 0===t?void 0:t.slug)},n.motherName):r.a.createElement(r.a.Fragment,null,n.motherName)),r.a.createElement("td",null,s(n.fatherName)?r.a.createElement(l.b,{className:"bold",to:"".concat(null===(a=s(n.fatherName))||void 0===a?void 0:a.slug)},n.fatherName):r.a.createElement(r.a.Fragment,null,n.fatherName)))},p=function(e){var t=e.setParams;return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col",onClick:function(){return t("name")}},"name"),r.a.createElement("th",{scope:"col",onClick:function(){return t("sex")}},"sex"),r.a.createElement("th",{scope:"col",onClick:function(){return t("born")}},"born"),r.a.createElement("th",{scope:"col",onClick:function(){return t("died")}},"died"),r.a.createElement("th",{scope:"col",onClick:function(){return t("motherName")}},"mother"),r.a.createElement("th",{scope:"col",onClick:function(){return t("fatherName")}},"father")))},h=function(e){var t=e.setQuery,a=e.value,c=Object(n.useState)("".concat(a)),o=Object(i.a)(c,2),l=o[0],u=o[1];return r.a.createElement("input",{value:l,type:"text",placeholder:"Enter name to find",onChange:function(e){return function(e){var a=e.currentTarget.value;u(a),t(a)}(e)}})},E=function(e){var t=e.list,a=e.id,c=Object(f.g)(),o=Object(f.h)(),l=new URLSearchParams(o.search),u=l.get("query")||"",s=Object(n.useState)(t),m=Object(i.a)(s,2),b=m[0],E=m[1],v=l.get("sortBy")||"",j=l.get("sortOrder")||"";Object(n.useMemo)((function(){E(t)}),[t]),Object(n.useMemo)((function(){var e;if("forward"===j)switch(v){case"born":case"died":e=b.sort((function(e,t){return e[v]-t[v]})),E(e);break;case"name":case"sex":e=b.sort((function(e,t){return e[v].localeCompare(t[v])})),E(e)}else switch(v){case"born":case"died":e=b.sort((function(e,t){return t[v]-e[v]})),E(e);break;case"name":case"sex":e=b.sort((function(e,t){return t[v].localeCompare(e[v])})),E(e)}}),[v,j,b]);var O=function(e){return b.find((function(t){return t.name===e}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{setQuery:function(e){l.set("query","".concat(e)),c.push({search:l.toString()})},value:u}),r.a.createElement("table",{className:"table table-sm"},r.a.createElement(p,{setParams:function(e){var t="forward"===j?"reverse":"forward";l.set("sortBy","".concat(e)),l.set("sortOrder","".concat(t)),c.push({search:l.toString()})}}),r.a.createElement("tbody",null,0===b.filter((function(e){return(e.name+e.motherName+e.fatherName).includes(u)})).length?r.a.createElement("p",null,"No user, includes ",u):b.filter((function(e){return(e.name+e.motherName+e.fatherName).includes(u)})).map((function(e,t){var n=e.slug===a?"active-person":"non-active",c="f"===e.sex?"woman":"man";return r.a.createElement(d,{key:e.slug,person:e,index:t,findParent:O,active:n,sex:c})})))))},v=function(){return r.a.createElement("h1",null,"Home")},j=function(){return r.a.createElement("h1",null,"not page")},O=a(10),g=a(7),N={name:"",sex:"",born:"",died:"",mother:"",father:""},x={name:"name",sex:"sex",born:"born",died:"died"},w=function(){var e=Object(n.useState)({sex:"m"}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(Object(g.a)({},N)),l=Object(i.a)(o,2),u=l[0],s=l[1],m=function(e){return N[e]};return r.a.createElement("form",{action:"",className:"add_form"},"Please add data",Object.entries(x).map((function(e){return"sex"===e[0]?r.a.createElement("select",{value:a.sex,className:"add_form-input",id:e[1],onChange:function(t){return function(e,t){var n=e.currentTarget.value;c(Object(g.a)(Object(g.a)({},a),{},Object(O.a)({},t,n)))}(t,e[1])}},r.a.createElement("option",{value:"m"},"man"),r.a.createElement("option",{value:"f"},"woman")):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{value:m(e[1]),className:"add_form-input",type:"text",id:e[1],placeholder:e[0],onChange:function(t){return function(e,t){var a=e.currentTarget.value;s(Object(g.a)(Object(g.a)({},u),{},Object(O.a)({},t,a)))}(t,e[1])},onBlur:function(t){return function(e,t){var n=e.currentTarget.value;c(Object(g.a)(Object(g.a)({},a),{},Object(O.a)({},t,n)))}(t,e[1])}}))})),r.a.createElement("button",null,"Save person"))},y=(a(33),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("https://mate-academy.github.io/react_people-table/api/people.json");case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"People table"),r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("form",{className:"form-inline"},r.a.createElement(l.b,{className:"btn btn-outline-success",to:"/",exact:!0},"Home"),r.a.createElement(l.b,{className:"btn btn-outline-success",to:"/users/"},"People"),r.a.createElement(l.b,{className:"btn btn-outline-success",to:"/form/"},"Add new user"))),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:v}),r.a.createElement(f.b,{path:"/form/",exact:!0,component:w}),r.a.createElement(f.b,{path:"/home"},r.a.createElement(f.a,{to:"/"})),r.a.createElement(f.b,{path:"/users/:id?",render:function(e){var t=e.match;return r.a.createElement(E,{list:a,id:t.params.id})}}),r.a.createElement(f.b,{component:j})))});o.a.render(r.a.createElement(l.a,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.0fcac689.chunk.js.map